[package]
name = "hyperphysics-gpu-unified"
version = "0.1.0"
edition = "2021"
license = "MIT OR Apache-2.0"
description = "Unified GPU orchestration layer for HyperPhysics ecosystem"
authors = ["HyperPhysics Team"]

[dependencies]
# GPU backends
wgpu = { version = "0.20", features = ["spirv"] }
bytemuck = { version = "1.14", features = ["derive"] }
pollster = "0.3"

# Burn ML framework integration
burn = { version = "0.14", features = ["wgpu", "autodiff"], optional = true }
burn-wgpu = { version = "0.14", optional = true }

# Concurrency and sync
tokio = { version = "1.35", features = ["rt-multi-thread", "sync", "time", "macros"], optional = true }
rayon = "1.8"
crossbeam = "0.8"
parking_lot = "0.12"
dashmap = "6.1"

# Math
nalgebra = { version = "0.33", features = ["serde-serialize"] }
ndarray = { version = "0.15", features = ["rayon"] }

# Serialization
serde = { version = "1.0", features = ["derive"] }

# Error handling
thiserror = "1.0"
anyhow = "1.0"

# Logging
tracing = "0.1"

# Metrics
once_cell = "1.19"

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
proptest = "1.4"
tempfile = "3.10"

[features]
default = ["async"]
async = ["tokio"]
burn = ["dep:burn", "dep:burn-wgpu"]
full = ["async", "burn"]

[lib]
crate-type = ["rlib"]
