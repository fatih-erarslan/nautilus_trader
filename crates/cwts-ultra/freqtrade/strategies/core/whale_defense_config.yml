# Whale Defense System Configuration
# Complete configuration for quantum-enhanced crypto trading defense

system:
  name: "Machiavellian Quantum Whale Defense"
  version: "2.0.0"
  description: "Quantum-enhanced whale detection and counter-manipulation system"
  
  # Hardware Configuration
  hardware:
    quantum_backend: "lightning.gpu"  # lightning.gpu, default.qubit, qulacs.simulator
    classical_backend: "cuda"  # cuda, cpu, auto
    gpu_device_ids: [0]  # List of GPU device IDs to use
    max_memory_gb: 16  # Maximum memory usage
    enable_mixed_precision: true
    
  # Quantum Resource Allocation
  quantum_resources:
    total_qubits: 57  # 24 base + 33 whale defense
    allocation:
      base_trading_system: 24
      early_warning_detection: 15
      defensive_tactics: 10
      offensive_counter_ops: 8
    
    qubit_distribution:
      oscillation_detector: 8
      correlation_engine: 12
      sentiment_detector: 6
      steganographic_orders: 6
      game_theory_engine: 10
      error_correction_reserve: 3
    
    circuit_optimization:
      enable_gate_fusion: true
      enable_circuit_cutting: true
      max_circuit_depth: 100
      gate_fidelity_threshold: 0.99

# Early Warning Detection System
early_warning:
  oscillation_detector:
    sensitivity: 0.001  # Lower = more sensitive
    baseline_update_frequency_seconds: 300  # 5 minutes
    anomaly_threshold_std_dev: 3.0
    frequency_analysis_windows: [10, 30, 100, 300]  # Data points
    enable_quantum_fft: true
    phase_estimation_precision: 8  # qubits
    
  correlation_engine:
    timeframes_minutes: [1, 5, 15, 60, 240]  # 1m, 5m, 15m, 1h, 4h
    entanglement_threshold: 0.7
    correlation_breakdown_threshold: 0.3
    max_correlation_history: 1000
    enable_ghz_entanglement: true
    
  sentiment_detector:
    platforms: ["twitter", "discord", "telegram", "reddit"]
    update_frequency_seconds: 30
    sentiment_quantum_encoding: "amplitude"  # amplitude, phase, mixed
    manipulation_detection_threshold: 0.7
    nlp_model: "quantum_transformer"
    language_models: ["en", "zh", "ja", "ko"]

# Defense Strategy Engine
defense_strategies:
  game_theory_engine:
    nash_equilibrium_max_iterations: 100
    convergence_threshold: 1e-6
    whale_psychology_models: ["risk_averse", "aggressive", "sophisticated"]
    strategy_adaptation_rate: 0.1
    enable_quantum_advantage: true
    
  steganographic_orders:
    encryption_algorithm: "quantum_one_time_pad"
    key_rotation_interval_seconds: 3600  # 1 hour
    noise_pattern_update_frequency_seconds: 60
    steganography_strength: "high"  # low, medium, high, maximum
    enable_collaborative_keys: true
    
  risk_management:
    max_position_reduction_per_event: 0.8  # 80%
    emergency_stop_threshold: 0.9  # 90% threat level
    max_daily_drawdown_limit: 0.05  # 5%
    defensive_position_sizing: "adaptive"  # fixed, adaptive, aggressive
    hedge_activation_threshold: 0.6

# Performance and Monitoring
performance:
  targets:
    detection_accuracy: 0.95  # 95%
    early_warning_time_seconds: [5, 15]  # 5-15 second range
    false_positive_rate: 0.001  # 0.1%
    max_processing_latency_ms: 50
    system_uptime_target: 0.9999  # 99.99%
    
  monitoring:
    enable_real_time_monitoring: true
    monitoring_frequency_ms: 100
    performance_logging: true
    quantum_state_validation: true
    error_rate_tracking: true
    
  optimization:
    enable_auto_tuning: true
    optimization_frequency_hours: 6
    performance_benchmark_frequency_hours: 24
    adaptive_parameter_adjustment: true

# Data Sources and Feeds
data_sources:
  market_data:
    primary_exchanges: 
      - "binance"
      - "coinbase"
      - "kraken" 
      - "ftx"
      - "okx"
    
    data_types:
      - "orderbook"
      - "trades"
      - "ohlcv"
      - "funding_rates"
      - "liquidations"
      
    update_frequency_ms: 100
    historical_data_retention_days: 30
    enable_data_compression: true
    
  social_sentiment:
    twitter_api:
      enable: true
      keywords: ["bitcoin", "ethereum", "crypto", "whale", "dump", "pump"]
      languages: ["en", "zh", "ja"]
      rate_limit_requests_per_minute: 300
      
    discord_monitoring:
      enable: true
      channels: ["crypto_trading", "whale_alerts", "market_discussion"]
      
    telegram_monitoring:
      enable: true
      channels: ["crypto_signals", "whale_watching"]
      
    reddit_monitoring:
      enable: true
      subreddits: ["cryptocurrency", "bitcoin", "ethtrader"]
      
  blockchain_data:
    whale_wallet_tracking:
      enable: true
      minimum_balance_btc: 1000  # Track wallets with 1000+ BTC
      transaction_monitoring: true
      exchange_flow_analysis: true
      
    mempool_monitoring:
      enable: true
      large_transaction_threshold_usd: 10000000  # $10M
      gas_price_analysis: true

# Threat Classification and Response
threat_classification:
  whale_categories:
    mega_whale:
      min_portfolio_value_usd: 1000000000  # $1B
      threat_multiplier: 2.0
      response_urgency: "immediate"
      
    large_whale:
      min_portfolio_value_usd: 100000000  # $100M
      threat_multiplier: 1.5
      response_urgency: "high"
      
    medium_whale:
      min_portfolio_value_usd: 10000000  # $10M
      threat_multiplier: 1.0
      response_urgency: "medium"
      
    small_whale:
      min_portfolio_value_usd: 1000000  # $1M
      threat_multiplier: 0.5
      response_urgency: "low"
  
  threat_levels:
    critical:
      threshold: 0.9
      auto_execute_defenses: true
      notify_channels: ["emergency", "slack", "sms"]
      
    high:
      threshold: 0.7
      auto_execute_defenses: true
      notify_channels: ["alert", "slack"]
      
    medium:
      threshold: 0.5
      auto_execute_defenses: false
      notify_channels: ["warning", "email"]
      
    low:
      threshold: 0.3
      auto_execute_defenses: false
      notify_channels: ["info"]

# Integration Settings
integration:
  existing_trading_system:
    qar_integration: true
    qlmsr_enhancement: true
    qpt_psychology_modeling: true
    qha_adaptive_hedging: true
    shared_quantum_memory: true
    
  external_systems:
    trading_apis:
      - name: "binance"
        api_key_env: "BINANCE_API_KEY"
        secret_key_env: "BINANCE_SECRET_KEY"
        enable_trading: true
        
      - name: "coinbase"
        api_key_env: "COINBASE_API_KEY"
        secret_key_env: "COINBASE_SECRET_KEY"
        enable_trading: false  # Read-only for correlation analysis
        
    alert_systems:
      slack:
        webhook_url_env: "SLACK_WEBHOOK_URL"
        channels: ["#whale-alerts", "#trading-alerts"]
        
      email:
        smtp_server: "smtp.gmail.com"
        smtp_port: 587
        username_env: "EMAIL_USERNAME"
        password_env: "EMAIL_PASSWORD"
        
      sms:
        service: "twilio"
        account_sid_env: "TWILIO_ACCOUNT_SID"
        auth_token_env: "TWILIO_AUTH_TOKEN"

# Security and Privacy
security:
  quantum_cryptography:
    enable_quantum_key_distribution: true
    key_refresh_interval_minutes: 60
    quantum_signature_verification: true
    post_quantum_algorithms: ["kyber", "dilithium"]
    
  data_protection:
    encrypt_stored_data: true
    encryption_algorithm: "AES-256-GCM"
    secure_memory_clearing: true
    audit_logging: true
    
  network_security:
    enable_vpn: true
    whitelist_ips: []  # Empty = allow all
    rate_limiting: true
    ddos_protection: true
    
  collaborative_defense:
    enable_trader_network: true
    max_network_participants: 50
    trust_threshold: 0.8
    shared_intelligence: true
    quantum_secure_communication: true

# Advanced Features
advanced_features:
  machine_learning:
    enable_quantum_ml: true
    whale_behavior_prediction: true
    adaptive_model_training: true
    training_frequency_hours: 12
    
  quantum_algorithms:
    enable_quantum_annealing: true
    use_variational_circuits: true
    enable_amplitude_amplification: true
    quantum_walk_optimization: true
    
  experimental_features:
    enable_quantum_teleportation: false
    quantum_error_correction: true
    topological_quantum_computing: false
    adiabatic_quantum_optimization: true

# Environment-Specific Configurations
environments:
  development:
    quantum_backend: "default.qubit"
    enable_debug_logging: true
    mock_external_apis: true
    simulation_mode: true
    
  testing:
    quantum_backend: "lightning.qubit"
    enable_performance_profiling: true
    mock_whale_events: true
    accelerated_time: true
    
  staging:
    quantum_backend: "lightning.gpu"
    enable_partial_trading: true
    reduced_position_sizes: true
    enhanced_monitoring: true
    
  production:
    quantum_backend: "lightning.gpu"
    enable_all_features: true
    maximum_security: true
    real_money_trading: true

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  handlers:
    file:
      enable: true
      filename: "logs/whale_defense_{date}.log"
      max_size_mb: 100
      backup_count: 7
      
    console:
      enable: true
      colored_output: true
      
    remote:
      enable: false
      endpoint: "https://logs.example.com/api/logs"
      api_key_env: "LOGGING_API_KEY"
      
  quantum_specific:
    log_quantum_states: false  # Security risk if enabled
    log_circuit_execution: true
    log_performance_metrics: true
    log_whale_detections: true

# Backup and Recovery
backup:
  quantum_state_backup:
    enable: true
    backup_frequency_minutes: 15
    backup_location: "backups/quantum_states/"
    compression: "lz4"
    encryption: true
    
  configuration_backup:
    enable: true
    backup_frequency_hours: 6
    version_control: true
    
  model_backup:
    enable: true
    backup_trained_models: true
    model_versioning: true
    
  disaster_recovery:
    enable_failover: true
    backup_sites: ["aws_east", "gcp_west"]
    recovery_time_objective_minutes: 5
    recovery_point_objective_minutes: 1

# Resource Limits and Quotas
resource_limits:
  memory:
    max_quantum_state_memory_gb: 8
    max_classical_memory_gb: 16
    memory_cleanup_threshold: 0.85
    
  cpu:
    max_cpu_cores: 16
    cpu_limit_percent: 80
    
  gpu:
    max_gpu_memory_gb: 24
    gpu_utilization_target: 0.90
    
  network:
    max_bandwidth_mbps: 1000
    connection_timeout_seconds: 30
    request_rate_limit_per_second: 100
    
  storage:
    max_storage_gb: 1000
    log_retention_days: 30
    backup_retention_days: 90

# Feature Flags
feature_flags:
  # Core Features
  enable_whale_detection: true
  enable_quantum_algorithms: true
  enable_real_time_processing: true
  
  # Defense Features
  enable_steganographic_orders: true
  enable_game_theory_optimization: true
  enable_collaborative_defense: true
  
  # Advanced Features
  enable_quantum_ml: true
  enable_predictive_modeling: true
  enable_sentiment_analysis: true
  
  # Experimental Features
  enable_quantum_error_correction: true
  enable_multi_gpu_processing: false
  enable_distributed_quantum_computing: false
  
  # Debug Features
  enable_circuit_visualization: false
  enable_performance_profiling: false
  enable_quantum_state_inspection: false