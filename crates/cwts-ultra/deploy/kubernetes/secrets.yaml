# Kubernetes Secrets for Bayesian VaR Production Deployment
# NOTE: This is a template - replace with actual encrypted values using sealed-secrets or external secret management

apiVersion: v1
kind: Secret
metadata:
  name: binance-api-credentials
  namespace: production
  labels:
    app: bayesian-var
    environment: production
type: Opaque
data:
  # Base64 encoded values - REPLACE WITH ACTUAL CREDENTIALS
  api-key: <REPLACE_WITH_BASE64_ENCODED_BINANCE_API_KEY>
  secret-key: <REPLACE_WITH_BASE64_ENCODED_BINANCE_SECRET_KEY>

---
apiVersion: v1
kind: Secret
metadata:
  name: e2b-api-credentials
  namespace: production
  labels:
    app: bayesian-var
    environment: production
type: Opaque
data:
  # Base64 encoded E2B API token
  api-token: <REPLACE_WITH_BASE64_ENCODED_E2B_API_TOKEN>

---
apiVersion: v1
kind: Secret
metadata:
  name: database-credentials
  namespace: production
  labels:
    app: bayesian-var
    environment: production
type: Opaque
data:
  # Database connection credentials
  username: <REPLACE_WITH_BASE64_ENCODED_DB_USERNAME>
  password: <REPLACE_WITH_BASE64_ENCODED_DB_PASSWORD>
  connection-string: <REPLACE_WITH_BASE64_ENCODED_DB_CONNECTION_STRING>

---
apiVersion: v1
kind: Secret
metadata:
  name: monitoring-credentials
  namespace: production
  labels:
    app: bayesian-var
    environment: production
type: Opaque
data:
  # Monitoring and alerting credentials
  pagerduty-api-key: <REPLACE_WITH_BASE64_ENCODED_PAGERDUTY_API_KEY>
  slack-webhook-url: <REPLACE_WITH_BASE64_ENCODED_SLACK_WEBHOOK_URL>
  grafana-admin-password: <REPLACE_WITH_BASE64_ENCODED_GRAFANA_ADMIN_PASSWORD>

---
# ConfigMap for feature flags and non-sensitive configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: feature-flags
  namespace: production
  labels:
    app: bayesian-var
    environment: production
data:
  # Feature flags for Constitutional Prime Directive compliance
  bayesian_var_v2: "true"
  enhanced_risk_modeling: "true"
  real_time_portfolio_optimization: "true"
  advanced_monte_carlo: "true"
  constitutional_prime_directive: "enabled"
  emergency_stop_threshold: "0.05"
  risk_breach_threshold: "0.05"
  model_accuracy_threshold: "0.95"
  
---
# ConfigMap for application configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: bayesian-var-config
  namespace: production
  labels:
    app: bayesian-var
    environment: production
data:
  # Application configuration
  log_level: "info"
  metrics_port: "8090"
  health_port: "8080"
  websocket_port: "9443"
  
  # E2B Sandbox configuration
  e2b_training_enabled: "true"
  e2b_training_interval: "1h"
  e2b_max_concurrent_training: "3"
  
  # Constitutional Prime Directive settings
  constitutional_compliance_required: "true"
  emergency_stop_enabled: "true"
  safety_protocol_enabled: "true"
  
  # Monitoring configuration
  prometheus_metrics_enabled: "true"
  opentelemetry_tracing_enabled: "true"
  structured_logging_enabled: "true"
  
  # Performance settings
  tokio_worker_threads: "8"
  max_concurrent_calculations: "1000"
  calculation_timeout_seconds: "30"
  
  # Risk management settings
  portfolio_risk_limit_usd: "10000000"
  var_confidence_levels: "0.95,0.99,0.999"
  monte_carlo_simulations: "100000"
  
---
# TLS Certificate Secret (use cert-manager in production)
apiVersion: v1
kind: Secret
metadata:
  name: bayesian-var-tls
  namespace: production
  labels:
    app: bayesian-var
    environment: production
type: kubernetes.io/tls
data:
  # TLS certificate and key - use cert-manager for automatic provisioning
  tls.crt: <REPLACE_WITH_BASE64_ENCODED_TLS_CERTIFICATE>
  tls.key: <REPLACE_WITH_BASE64_ENCODED_TLS_PRIVATE_KEY>

---
# Database migration tracking ConfigMap
apiVersion: v1
kind: ConfigMap
metadata:
  name: database-migrations
  namespace: production
  labels:
    app: bayesian-var
    environment: production
data:
  current_version: "v2.0.0"
  previous_stable_version: "v1.9.0"
  pending: ""
  migration_status: "complete"
  rollback_available: "true"