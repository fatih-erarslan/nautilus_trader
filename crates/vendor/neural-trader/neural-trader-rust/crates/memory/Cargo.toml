[package]
name = "nt-memory"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
description = "Hierarchical memory system for Neural Trader - ReasoningBank-compatible with L1/L2/L3 caching"
documentation = "https://docs.rs/nt-memory"
readme = "README.md"
keywords = ["trading", "memory", "cache", "agentdb", "reasoning"]
categories = ["caching", "database", "algorithms"]

[dependencies]
# Internal crates
nt-core = { version = "2.0.0", path = "../core" }
nt-agentdb-client = { version = "2.0.0", path = "../agentdb-client" }

# Workspace dependencies
tokio.workspace = true
async-trait.workspace = true
serde.workspace = true
serde_json.workspace = true
chrono.workspace = true
uuid.workspace = true
thiserror.workspace = true
anyhow.workspace = true
tracing.workspace = true

# Memory system dependencies
dashmap = "5.5"                    # L1: Lock-free concurrent hashmap
sled = "0.34"                      # L3: Embedded database for cold storage
bincode = "1.3"                    # Fast binary serialization
lz4 = "1.24"                       # Compression for memory distillation

# Coordination dependencies
tokio-util = { version = "0.7", features = ["codec"] }
futures = "0.3"
parking_lot = "0.12"               # Fast synchronization primitives

# Vector operations
ndarray = "0.15"                   # Vector math for embeddings

[dev-dependencies]
tokio-test.workspace = true
mockall.workspace = true
criterion.workspace = true
proptest.workspace = true
tempfile = "3.8"

[[bench]]
name = "memory_benchmarks"
harness = false
