[package]
name = "nt-neural"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
description = "Neural network integration for Neural Trader - LSTM, transformers, and deep learning models with Candle"
documentation = "https://docs.rs/nt-neural"
readme = "README.md"
keywords = ["trading", "neural", "ml", "ai", "finance"]
categories = ["finance", "algorithms", "science"]

[dependencies]
# Workspace dependencies
tokio = { workspace = true }
async-trait = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
thiserror = { workspace = true }
anyhow = { workspace = true }
tracing = { workspace = true }
polars = { workspace = true }
chrono = { workspace = true }
uuid = { workspace = true }

# Internal crates
nt-core = { version = "2.0.0", path = "../core" }

# ML Framework - Candle (optional)
candle-core = { version = "0.6", optional = true }
candle-nn = { version = "0.6", optional = true }

# GPU acceleration (optional features)
cudarc = { version = "0.11", optional = true }

# Data processing
ndarray = "0.15"
rand = "0.8"
rand_distr = "0.4"

# Model serialization
safetensors = "0.4"
bincode = "1.3"

# Utilities
itertools = "0.12"
rayon = "1.8"
num_cpus = "1.16"

# AgentDB integration
tempfile = "3.8"
fasthash = "0.4"
smallvec = "1.15.1"

[dev-dependencies]
criterion = { workspace = true }
proptest = { workspace = true }
approx = "0.5"
tokio-test = "0.4"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
tempfile = "3.8"

[features]
default = []
candle = ["candle-core", "candle-nn"]
cuda = ["candle", "cudarc", "candle-core/cuda"]
metal = ["candle", "candle-core/metal"]
accelerate = ["candle", "candle-core/accelerate"]
simd = []

[[bench]]
name = "neural_benchmarks"
harness = false

[[bench]]
name = "inference_latency"
harness = false
required-features = ["candle"]

[[bench]]
name = "cpu_benchmarks"
harness = false

[[bench]]
name = "simd_benchmarks"
harness = false
