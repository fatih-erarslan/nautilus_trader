[package]
name = "ruv-fann-integration"
version = "0.1.0"
edition = "2021"
description = "pBit-enhanced neural network integration for trading"
authors = ["TENGRI Trading Swarm <devops@tengri.tech>"]
license = "MIT OR Apache-2.0"
keywords = ["pbit", "neural-networks", "trading", "ising"]

# Standalone crate
[workspace]

[features]
default = ["gpu-acceleration", "simd-optimizations", "parallel-processing"]
gpu-acceleration = ["dep:wgpu", "dep:bytemuck", "dep:pollster"]
simd-optimizations = ["dep:wide", "dep:simdeez"]
parallel-processing = ["dep:rayon", "dep:crossbeam"]
# quantum-ml = ["dep:quantum-uncertainty"]  # Disabled - missing crate
zero-mock-testing = ["dep:proptest", "dep:quickcheck"]
performance-bridge = ["dep:mimalloc", "dep:jemalloc-ctl"]
real-time-inference = ["dep:tokio-console"]
advanced-metrics = ["dep:prometheus"]

[dependencies]
# Core dependencies
anyhow = "1.0"
thiserror = "1.0"
serde = { version = "1.0.219", features = ["derive"] }
serde_json = "1.0"
tokio = { version = "1.46", features = ["full"] }
tracing = "0.1"
tracing-subscriber = "0.3"
async-trait = "0.1"
chrono = { version = "0.4.41", features = ["serde"] }
uuid = { version = "1.0", features = ["v4", "serde"] }

# Mathematical computations
ndarray = { version = "0.16.1", features = ["serde"] }
ndarray-rand = "0.14"
nalgebra = "0.33.2"
num-traits = "0.2"
rand = "0.8"
rand_distr = "0.4"

# Neural network core (placeholder for future integration)
# ruv_fann = { version = "0.1", path = "../ruv_fann_core" }
# fann-sys = { version = "0.1", optional = true }

# GPU acceleration (optional)
wgpu = { version = "25.0.2", optional = true }
# wgpu-util is now integrated into wgpu 25.x
bytemuck = { version = "1.0", optional = true, features = ["derive"] }
pollster = { version = "0.3", optional = true }

# SIMD optimizations (optional)
wide = { version = "0.7", optional = true }
simdeez = { version = "2.0.0-dev5", optional = true }

# Parallel processing (optional)
rayon = { version = "1.10.0", optional = true }
crossbeam = { version = "0.8", optional = true }

# Quantum ML integration (optional - disabled, missing crate)
# qiskit-rust = { version = "0.1", optional = true }
# quantum-uncertainty = { path = "../quantum-uncertainty", optional = true }

# Performance monitoring
memory-stats = { version = "1.0", optional = true }
sysinfo = "0.29"
num_cpus = "1.0"

# Memory allocators for performance
mimalloc = { version = "0.1", optional = true }
jemalloc-ctl = { version = "0.5", optional = true }

# Testing dependencies
proptest = { version = "1.0", optional = true }
quickcheck = { version = "1.0", optional = true }

# Real-time monitoring
tokio-console = { version = "0.1", optional = true }

# Metrics
prometheus = { version = "0.13", optional = true }

# Integration with other crates (disabled - missing crates)
# ats-core = { path = "../ats-core" }
# neural-forecast = { path = "../neural-forecast" }
# cognition-engine-integration = { path = "../cognition-engine-integration" }
# performance-engine = { path = "../performance-engine" }
# quantum-ml-enhanced = { path = "../quantum-ml-enhanced" }

[dev-dependencies]
tokio-test = "0.4"
criterion = { version = "0.5", features = ["html_reports"] }
approx = "0.5"
tempfile = "3.0"

[build-dependencies]
cc = "1.0"
bindgen = "0.66"

# Benchmarks (commented out until benchmark files are created)
# [[bench]]
# name = "ruv_fann_benchmarks"
# harness = false
# required-features = ["gpu-acceleration", "simd-optimizations"]


[lib]
crate-type = ["cdylib", "rlib"]

[package.metadata.docs.rs]
all-features = true