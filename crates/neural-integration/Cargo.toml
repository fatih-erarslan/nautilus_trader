[package]
name = "neural-integration"
version = "0.1.0"
edition = "2021"
rust-version = "1.88.0"
authors = ["Nautilus Trader Contributors"]
description = "Neural network integration layer for Nautilus Trader with ruv-FANN and cognition-engine"
keywords = ["trading", "neural-networks", "ai", "machine-learning", "ruv-fann"]
categories = ["science", "algorithms", "mathematics"]

[dependencies]
# Core Nautilus dependencies
nautilus-core = { path = "../core" }
nautilus-model = { path = "../model" }
nautilus-common = { path = "../common" }

# Neural network dependencies
ruv-fann = { path = "../../ruv_FANN", features = ["ultra-performance"] }
# cognition-engine = { path = "../../cognition-engine" }  # Commented out due to workspace dependency conflicts

# Core utilities
tokio = { version = "1.46", features = ["full"] }
async-trait = "0.1"
serde = { version = "1.0.219", features = ["derive"] }
serde_json = "1.0"
uuid = { version = "1.0", features = ["v4"] }
chrono = { version = "0.4.41", features = ["serde"] }
thiserror = "1.0"
anyhow = "1.0"

# Performance and concurrency
rayon = "1.10.0"
dashmap = "6.0"
crossbeam = "0.8"
parking_lot = "0.12"

# Numerical computing
ndarray = "0.16"
candle-core = "0.8"
tch = { version = "0.17", optional = true }

# Memory management
bytes = "1.0"
memmap2 = "0.9"

# GPU acceleration
wgpu = { version = "26.0.1", optional = true }
cudarc = { version = "0.13", optional = true }
half = { version = "2.3", optional = true }

# SIMD optimization
wide = { version = "0.7", optional = true }
simdeez = { version = "1.0", optional = true }

# Logging and metrics
tracing = "0.1"
metrics = "0.24"

# Python bindings
pyo3 = { version = "0.25.1", features = ["auto-initialize"], optional = true }
numpy = { version = "0.25", optional = true }

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
proptest = "1.4"
approx = "0.5"
tokio-test = "0.4"
tempfile = "3.0"

[features]
default = ["cpu", "simd"]
cpu = []
gpu = ["wgpu", "half"]
cuda = ["gpu", "cudarc", "tch"]
simd = ["wide", "simdeez"]
python = ["pyo3", "numpy"]
ultra-performance = ["cuda", "simd", "gpu"]

[lib]
name = "neural_integration"
crate-type = ["cdylib", "rlib"]

[[bench]]
name = "neural_performance"
harness = false
path = "benches/neural_performance.rs"

[workspace]
