# Example Tengri Trading Strategy Configuration
# Copy this file and modify the values according to your needs

[strategy]
name = "TengriStrategy"
version = "1.0.0"
base_currency = "BTC"
quote_currency = "USDT"
instruments = ["BTCUSDT", "ETHUSDT", "ADAUSDT"]
mode = "paper"  # "live", "paper", or "backtest"

[strategy.parameters]
timeframes = [60, 300, 900, 3600]  # 1m, 5m, 15m, 1h in seconds
lookback_period = 100
min_price_movement = 0.001
max_position_size = 0.1
signal_threshold = 0.7
correlation_threshold = 0.8
volatility_factor = 1.0

[strategy.parameters.trend_following]
enabled = true
ema_fast = 12
ema_slow = 26
atr_period = 14
breakout_threshold = 0.02

[strategy.parameters.mean_reversion]
enabled = true
bollinger_period = 20
bollinger_std = 2.0
rsi_period = 14
rsi_oversold = 30.0
rsi_overbought = 70.0

[strategy.parameters.momentum]
enabled = true
macd_fast = 12
macd_slow = 26
macd_signal = 9
momentum_period = 10
momentum_threshold = 0.05

# Data Sources Configuration
[data_sources]

[data_sources.databento]
enabled = false
api_key = "your_databento_api_key"
dataset = "GLBX.MDP3"
symbols = ["ESM4"]
schema = "mbo"
stype_in = "raw_symbol"

[data_sources.tardis]
enabled = true
api_key = "your_tardis_api_key"
exchanges = ["binance"]
symbols = ["BTCUSDT"]
data_types = ["trade", "book_change"]
from_date = "2024-01-01"

[data_sources.polymarket]
enabled = false
markets = ["crypto"]
categories = ["politics", "economics"]
min_liquidity = 1000.0
update_interval = 300

[data_sources.aggregation]
refresh_interval = 60
max_data_age = 300

[data_sources.aggregation.quality_thresholds]
min_data_points = 100
max_missing_ratio = 0.05
max_latency_ms = 1000
min_confidence = 0.8

[data_sources.aggregation.validation]
enabled = true
cross_validate_sources = true
max_price_deviation = 0.01
max_volume_deviation = 0.1

# Exchange Configuration
[exchanges]

[exchanges.binance_spot]
enabled = true
api_key = "your_binance_api_key"
api_secret = "your_binance_api_secret"
testnet = true
order_types = ["MARKET", "LIMIT", "STOP_LOSS"]

[exchanges.binance_spot.rate_limits]
requests_per_minute = 1200
orders_per_second = 10
weight_per_minute = 6000

[exchanges.binance_futures]
enabled = false
api_key = "your_binance_futures_api_key"
api_secret = "your_binance_futures_api_secret"
testnet = true
base_url = "https://testnet.binancefuture.com"
order_types = ["MARKET", "LIMIT", "STOP_MARKET"]

[exchanges.binance_futures.rate_limits]
requests_per_minute = 1200
orders_per_second = 10
weight_per_minute = 6000

# Risk Management Configuration
[risk]
max_portfolio_loss = 0.05
max_daily_loss = 0.02
max_position_size = 0.1

[risk.position_sizing]
method = "volatility_adjusted"  # "fixed", "kelly", "volatility_adjusted", "risk_parity"
base_size = 0.05
volatility_lookback = 20
kelly_fraction = 0.25
max_leverage = 1.0

[risk.stop_loss]
enabled = true
method = "atr"  # "fixed", "atr", "volatility"
percentage = 0.02
atr_multiplier = 2.0
trailing = true

[risk.take_profit]
enabled = true
method = "risk_reward"  # "fixed", "risk_reward", "dynamic"
percentage = 0.04
risk_reward_ratio = 2.0

[[risk.take_profit.partial_profits]]
price_level = 0.02
quantity_percentage = 0.5

[[risk.take_profit.partial_profits]]
price_level = 0.04
quantity_percentage = 0.5

[risk.correlation_limits]
max_correlation = 0.8
correlation_window = 50
max_correlated_positions = 3

[risk.volatility_controls]
max_volatility = 0.1
volatility_window = 20
volatility_adjustment = true

# Execution Configuration
[execution]
execution_style = "adaptive"  # "aggressive", "passive", "adaptive"

[execution.order_types]
market_orders = true
limit_orders = true
stop_orders = true
iceberg_orders = false
twap_orders = false

[execution.slippage]
max_slippage = 0.001
slippage_model = "sqrt"  # "linear", "sqrt", "impact"
market_impact_factor = 0.5

[execution.fill_management]
partial_fill_handling = "accumulate"  # "accumulate", "cancel", "replace"
fill_timeout_seconds = 30
price_improvement_threshold = 0.0001

[execution.latency_optimization]
co_location = false
connection_pooling = true
message_batching = true
priority_queue = true

# Monitoring and Alerting Configuration
[monitoring]

[monitoring.performance]
enabled = true
update_interval = 60
metrics_retention = 86400  # 24 hours
benchmark_comparison = true

[monitoring.alerting]
enabled = true
channels = []

[monitoring.alerting.thresholds]
max_drawdown = 0.05
min_sharpe_ratio = 0.5
max_correlation = 0.9
latency_threshold_ms = 100

[monitoring.logging]
level = "info"  # "debug", "info", "warn", "error"
output = "both"  # "console", "file", "both"
file_path = "logs/tengri.log"

[monitoring.logging.rotation]
enabled = true
max_size_mb = 100
max_files = 10

[monitoring.metrics]
enabled = true
export_interval = 60
exporters = []

# Performance Optimization Configuration
[performance]

[performance.cpu]
enable_simd = true
enable_vectorization = true

[performance.gpu]
enabled = true
device_id = 0
memory_pool_size_mb = 1024

[performance.gpu.operations]
statistical_calculations = true
technical_indicators = true
risk_calculations = true
portfolio_optimization = true

[performance.memory]
enable_memory_pool = true
pool_size_mb = 512
enable_compression = true
cache_size_mb = 256

[performance.network]
connection_pooling = true
keep_alive = true
timeout_seconds = 30
retry_attempts = 3
enable_compression = true