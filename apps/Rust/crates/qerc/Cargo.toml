[package]
name = "qerc"
version = "0.1.0"
edition = "2021"
rust-version = "1.70"
authors = ["TENGRI Trading Swarm <swarm@tengri.ai>"]
description = "Quantum Error Correction (QERC) for Trading Systems - Fault-tolerant quantum computing for financial applications"
repository = "https://github.com/tengri/ats-cp-trader"
license = "MIT OR Apache-2.0"
keywords = ["quantum", "error-correction", "fault-tolerance", "trading", "qerc"]
categories = ["science", "algorithms", "mathematics", "finance"]

[lib]
name = "qerc"
path = "src/lib.rs"

[dependencies]
# Core quantum computing
quantum-core = { path = "../quantum-core" }
quantum-agentic-reasoning = { path = "../quantum-agentic-reasoning" }

# Mathematical computing
ndarray = { version = "0.15", features = ["rayon", "blas"] }
nalgebra = { version = "0.32", features = ["serde-serialize"] }
num-traits = "0.2"
num-complex = "0.4"
statrs = "0.16"
approx = "0.5"
rand = "0.8"
rand_distr = "0.4"

# High-performance computing
rayon = { version = "1.8", optional = true }
# simd = "0.1"     # Commented out - may not be correct version
wide = "0.7"

# Async and concurrency
tokio = { version = "1.0", features = ["full"] }
async-trait = "0.1"
futures = "0.3"
dashmap = "5.5"
parking_lot = "0.12"
crossbeam = "0.8"

# Memory management
mimalloc = "0.1"
# circular-buffer = "0.1"  # Commented out - may not exist

# Serialization and configuration
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
bincode = "1.3"
rmp-serde = "1.1"
toml = "0.8"

# Time and scheduling
chrono = { version = "0.4", features = ["serde"] }
uuid = { version = "1.6", features = ["v4", "serde"] }

# Logging and monitoring
tracing = "0.1"
metrics = "0.21"
prometheus = { version = "0.13", optional = true }

# Error handling
thiserror = "1.0"
anyhow = "1.0"

# Optional quantum backends
# pennylane-rust = { version = "0.1", optional = true }  # Commented out - not available
# qiskit-terra = { version = "0.1", optional = true }     # Commented out - not available

# Hardware acceleration
# gpu-compute = { version = "0.1", optional = true }      # Commented out - not available
# cuda-runtime = { version = "0.1", optional = true }     # Commented out - not available
# rocm-runtime = { version = "0.1", optional = true }     # Commented out - not available

# Machine learning support
candle-core = { workspace = true, optional = true }
candle-nn = { workspace = true, optional = true }

# Integration with other crates
# performance-engine = { path = "../performance-engine", optional = true }  # DISABLED

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
proptest = "1.4"
tokio-test = "0.4"
approx = "0.5"
pretty_assertions = "1.4"
tempfile = "3.8"
quickcheck = "1.0"
quickcheck_macros = "1.0"
rstest = "0.18"

[features]
default = ["simd", "parallel", "real-time", "memory-efficient", "surface-codes"]

# Core features
simd = []
parallel = ["rayon"]
real-time = ["tokio/rt-multi-thread"]
memory-efficient = []

# Error correction codes
surface-codes = []
stabilizer-codes = []
topological-codes = []
concatenated-codes = []
ldpc-codes = []

# Quantum backends
# pennylane = ["pennylane-rust"]  # Commented out - dependency not available
# qiskit = ["qiskit-terra"]       # Commented out - dependency not available

# Hardware acceleration
# gpu = ["gpu-compute"]           # Commented out - dependency not available
# cuda = ["cuda-runtime", "gpu"]  # Commented out - dependency not available
# rocm = ["rocm-runtime", "gpu"]  # Commented out - dependency not available

# Integration features
# performance-integration = ["performance-engine"]  # DISABLED

# Machine learning
ml = ["candle-core", "candle-nn"]

# Monitoring
monitoring = ["prometheus"]

# Full quantum error correction ecosystem
full-qerc = ["surface-codes", "stabilizer-codes", "topological-codes", "concatenated-codes", "ldpc-codes"]

# Performance optimization
performance = ["simd", "parallel", "real-time", "memory-efficient"]  # removed performance-integration

# Development and testing
dev = ["monitoring"]
benchmarking = []

[[bench]]
name = "qerc_benchmarks"
harness = false
required-features = ["benchmarking"]

# [[bench]]
# name = "error_correction_benchmark"
# harness = false
# required-features = ["benchmarking"]

# [[bench]]
# name = "syndrome_decoding_benchmark"
# harness = false
# required-features = ["benchmarking"]

[build-dependencies]
cc = "1.0"

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]