[package]
name = "qbmia-unified"
version = "0.1.0"
edition = "2021"

[workspace]
authors = ["QBMIA Unified Engineer <qbmia-unified@swarm.ai>"]
description = "Unified QBMIA quantum-biological market intelligence with GPU-only quantum and TENGRI compliance"
license = "MIT"
repository = "https://github.com/qbmia/qbmia-unified"
keywords = ["quantum", "biological", "trading", "gpu", "tengri"]
categories = ["algorithms", "mathematics", "simulation", "finance"]

[dependencies]
# UNIFIED QBMIA - All functionality consolidated in this crate
# No dependencies on separate QBMIA crates - all-in-one architecture

# GPU-ONLY quantum simulation - TENGRI COMPLIANT: NO CLOUD BACKENDS
# Local GPU quantum simulation only - no cloud quantum devices
# quantum-simulator = "0.8"  # Local GPU quantum simulation when available

# GPU-ONLY QUANTUM COMPUTING - TENGRI COMPLIANT: NO CLOUD BACKENDS
# Real GPU detection and acceleration for quantum simulation
cudarc = { version = "0.11", optional = true, features = ["nvrtc"] }
opencl3 = { version = "0.9", optional = true }
wgpu = "0.19"
ash = { version = "0.37", optional = true } # Vulkan compute
metal = { version = "0.24", optional = true } # Metal compute
nvml-wrapper = "0.9"

# Real system hardware detection - TENGRI COMPLIANT
sysinfo = { version = "0.30", optional = true }
hwloc2 = { version = "2.0", optional = true }
cpu-time = { version = "1.0", optional = true }
psutil = { version = "3.2", optional = true }

# Real financial API clients - TENGRI COMPLIANT
# alpha-vantage = { version = "0.9", optional = true }  # Not available in crates.io
# yahoo-finance = { version = "1.2", optional = true }  # Not available in crates.io  
# quandl = { version = "0.9", optional = true }          # Not available in crates.io
rust_decimal = "1.33"

# Real scientific datasets - TENGRI COMPLIANT
hdf5 = "0.8"
netcdf = "0.8"
polars = "0.36"
arrow = "51.0"

# Core mathematical libraries for real computations
ndarray = "0.15"
nalgebra = "0.32"
num-complex = "0.4"
rustfft = "6.1"
statrs = "0.16"
approx = "0.5"

# Real biological data processing - TENGRI COMPLIANT
bio = { version = "1.6", optional = true }
# phylo = { version = "0.1", optional = true }        # Not available in crates.io
# sequence_analysis = { version = "0.1", optional = true }  # Not available in crates.io

# SIMD and performance optimization
wide = "0.7"
bytemuck = { version = "1.13", features = ["derive"] }
memmap2 = "0.9"
rayon = "1.7"
crossbeam = "0.8"

# Real performance benchmarking - TENGRI COMPLIANT
criterion = { version = "0.5", features = ["html_reports"], optional = true }
pprof = { version = "0.13", features = ["criterion", "flamegraph"], optional = true }
perf-event = { version = "0.4", optional = true }

# Real async and concurrency
tokio = { version = "1.35", features = ["full", "test-util"] }
futures = "0.3"

# Real serialization and I/O
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
bincode = "1.3"
rmp-serde = "1.1"

# Real logging and metrics
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
metrics = "0.22"
prometheus = "0.13"

# Real error handling
thiserror = "1.0"
anyhow = "1.0"

# Real time handling
chrono = { version = "0.4", features = ["serde"] }

# Real UUID generation
uuid = { version = "1.6", features = ["v4", "serde"] }

# Real networking for market data
reqwest = { version = "0.11", features = ["json"], optional = true }
tungstenite = { version = "0.21", optional = true }

# Real database connections for data persistence
sqlx = { version = "0.7", features = ["runtime-tokio-rustls", "postgres", "sqlite"], optional = true }
redis = { version = "0.24", optional = true }

# Real property-based testing
proptest = "1.4"
quickcheck = "1.0"

# Real testing utilities
rstest = "0.18"
tokio-test = "0.4"
tempfile = "3.8"
once_cell = "1.19"

# Memory management
parking_lot = "0.12"
dashmap = "5.5"

# Graph algorithms for biological networks
petgraph = "0.6"

# Collections
indexmap = "2.0"
smallvec = "1.11"

[dev-dependencies]
# Additional real testing tools
cargo-nextest = "0.9"
assert_cmd = "2.0"
predicates = "3.0"

[features]
default = []
cuda = ["cudarc"]
opencl = ["opencl3"]
vulkan = ["ash", "dep:metal"]  # Combined Vulkan/Metal support
bio-real = ["bio"]  # Reduced to available packages
hardware-real = ["sysinfo", "hwloc2", "cpu-time", "psutil"]
benchmarks = ["criterion", "pprof", "perf-event"]
integration = ["reqwest", "tungstenite", "sqlx", "redis"]
# real-finance = ["alpha-vantage", "yahoo-finance", "quandl"]  # Commented out - packages not in crates.io

# TENGRI COMPLIANCE: NO MOCK FEATURES ALLOWED

[profile.test]
debug = true
opt-level = 1

[profile.bench]
debug = true
opt-level = 3

[profile.release]
codegen-units = 1
lto = true
panic = "abort"
opt-level = 3

[[test]]
name = "unified_quantum_tests"
path = "tests/quantum/unified_quantum_tests.rs"
required-features = ["gpu-quantum"]

[[test]]
name = "unified_biological_tests"
path = "tests/biological/unified_biological_tests.rs"
required-features = ["bio-real"]

[[test]]
name = "unified_gpu_tests"
path = "tests/gpu/unified_gpu_tests.rs"
required-features = ["cuda"]

[[test]]
name = "unified_integration_tests"
path = "tests/integration/unified_integration_tests.rs"
required-features = ["integration", "real-finance"]

[[bench]]
name = "unified_performance_benchmarks"
harness = false
path = "benches/unified_benchmarks.rs"

[[bench]]
name = "quantum_gpu_benchmarks"
harness = false
path = "benches/quantum_gpu_benchmarks.rs"

[[bench]]
name = "biological_processing_benchmarks"
harness = false
path = "benches/biological_benchmarks.rs"

[[bench]]
name = "market_analysis_benchmarks"
harness = false
path = "benches/market_analysis_benchmarks.rs"